<div class="w-full bg-[#fafaf8] min-h-screen font-['Inter'] pb-0 overflow-x-hidden">
    <!-- Compact Knowledge Hero -->
    <header class="w-full bg-white border-b border-emerald-50/50 py-14 md:py-16 relative overflow-hidden">
        <div
            class="absolute top-0 right-0 w-[40rem] h-full bg-[#fcf9f1] rounded-l-[20rem] -z-10 blur-[100px] opacity-50">
        </div>
        <div class="grain-overlay"></div>
        <div
            class="floating-element top-28 md:top-22 left-[8%] md:left-[5%] float-delay-1 text-2xl md:text-4xl opacity-20 md:opacity-30">
            ðŸ“„</div>
        <div
            class="floating-element bottom-8 md:bottom-12 right-[8%] md:right-[5%] float-delay-2 text-2xl md:text-4xl opacity-20 md:opacity-30">
            ðŸ§ </div>

        <div
            class="max-w-[90%] xl:max-w-7xl mx-auto px-4 md:px-6 flex flex-col md:flex-row md:items-center justify-between gap-8 md:gap-12 relative">
            <!-- Left Side: Content -->
            <div
                class="flex flex-col items-center md:items-start text-center md:text-left space-y-4 md:space-y-5 max-w-2xl">
                <span
                    class="inline-flex items-center gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-emerald-50 text-emerald-900 text-[8px] md:text-[9px] font-black uppercase tracking-[0.4em] rounded-full border border-emerald-100/50">
                    <span class="w-1.5 h-1.5 rounded-full bg-emerald-600 animate-pulse"></span>
                    Intelligence Hub
                </span>
                <h1
                    class="text-3xl md:text-5xl lg:text-6xl font-black text-[#1a1c1e] leading-[1.1] md:leading-[0.85] tracking-tighter">
                    Ancient Wisdom, <br class="hidden lg:block"><span
                        class="text-emerald-700 italic serif-font font-light">Modern Biology.</span>
                </h1>
                <p class="text-gray-500 text-sm md:text-lg font-bold max-w-xl leading-tight italic serif-font">
                    "Peer-reviewed protocols for cellular longevity and neurological optimization."
                </p>
            </div>

            <!-- Right Side: Search Bar -->
            <div class="w-full md:w-auto md:min-w-[380px] lg:min-w-[450px] relative group">
                <div
                    class="absolute inset-0 bg-emerald-900/10 rounded-[3rem] blur-2xl group-hover:blur-3xl transition-all duration-500 opacity-0 group-hover:opacity-100">
                </div>
                <div class="relative">
                    <input type="text" placeholder="Search research, herbs, or protocols..." (input)="onSearch($event)"
                        class="w-full px-6 md:px-8 py-4 md:py-5 bg-white border border-gray-100 rounded-2xl md:rounded-[3rem] shadow-lg focus:outline-none focus:ring-4 focus:ring-emerald-500/5 transition-all font-bold text-gray-800 text-sm md:text-base placeholder:text-gray-300">
                    <button
                        class="absolute right-2 top-2 bottom-2 md:right-3 md:top-3 md:bottom-3 px-4 md:px-8 bg-emerald-950 text-emerald-50 rounded-xl md:rounded-[2rem] font-black uppercase tracking-[0.2em] md:tracking-[0.3em] text-[8px] md:text-[9px] shadow-lg hover:bg-emerald-900 hover:scale-105 active:scale-95 transition-all">
                        Search
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Knowledge Feed -->
    <section class="w-full py-12 bg-[#fafaf8]">
        <div class="max-w-[90%] xl:max-w-7xl mx-auto px-6">
            <!-- Category Navigator -->
            <div
                class="flex overflow-x-auto no-scrollbar items-center md:justify-center gap-2 md:gap-3 mb-8 md:mb-12 pb-4 -mx-4 px-4 md:mx-0 md:px-0">
                <button *ngFor="let cat of categories" (click)="filterByCategory(cat)"
                    [class]="activeCategory === cat ? 'bg-emerald-950 text-white shadow-lg translate-y-[-2px]' : 'bg-white text-gray-400 border border-gray-100 hover:bg-emerald-50 hover:text-emerald-900'"
                    class="px-5 md:px-6 py-2.5 md:py-3 rounded-lg md:rounded-xl font-black text-[10px] md:text-[11px] uppercase tracking-[0.2em] md:tracking-[0.3em] transition-all duration-300 active:scale-95 whitespace-nowrap flex-shrink-0">
                    {{ cat === 'All' ? 'Everything' : cat }}
                </button>
            </div>

            <!-- Articles Grid -->
            <div *ngIf="!loading; else loader" class="grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-8">
                <div *ngFor="let article of filteredArticles; let i = index"
                    class="group bg-white rounded-xl md:rounded-[2rem] overflow-hidden border border-gray-100 shadow-sm hover:shadow-lg hover:-translate-y-2 transition-all duration-500 animate-in fade-in slide-in-from-bottom flex flex-col"
                    [style.animation-delay]="i * 100 + 'ms'">

                    <!-- Image Container -->
                    <div class="aspect-[16/10] md:aspect-video relative overflow-hidden flex-shrink-0">
                        <img [src]="article.image_url" [alt]="article.title"
                            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2s]">
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-gray-950/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                        </div>
                        <div class="absolute top-2 left-2 md:top-4 md:left-4">
                            <span
                                class="px-2 py-1 md:px-4 md:py-2 bg-white/95 backdrop-blur-sm rounded-full text-[6px] md:text-[8px] font-black text-emerald-900 uppercase tracking-[0.2em] md:tracking-[0.3em] shadow-lg">
                                {{ article.category }}
                            </span>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="p-4 md:p-6 space-y-2 md:space-y-4 flex flex-col grow">
                        <div
                            class="flex items-center gap-2 md:gap-3 text-[7px] md:text-[9px] font-black text-gray-400 uppercase tracking-[0.2em] md:tracking-[0.3em] min-w-0">
                            <span class="text-emerald-700 truncate max-w-[60px] md:max-w-none">{{ article.author
                                }}</span>
                            <span class="w-1 h-1 rounded-full bg-emerald-100 flex-shrink-0"></span>
                            <span class="flex-shrink-0">{{ article.read_time_minutes }}m</span>
                        </div>

                        <h3
                            class="text-sm md:text-3xl font-black text-[#1a1c1e] leading-tight tracking-tighter group-hover:text-emerald-700 transition-colors duration-300 line-clamp-2">
                            {{ article.title }}
                        </h3>

                        <p
                            class="text-[10px] md:text-sm text-gray-500 leading-snug font-bold italic serif-font line-clamp-2 md:line-clamp-3">
                            {{ article.excerpt }}
                        </p>

                        <button
                            class="w-full mt-auto py-2.5 md:py-3 bg-[#fafaf8] text-gray-950 font-black rounded-xl md:rounded-2xl border border-gray-100 group-hover:bg-emerald-950 group-hover:text-white group-hover:border-emerald-950 transition-all text-[7px] md:text-[9px] uppercase tracking-[0.2em] md:tracking-[0.3em] shadow-sm group-hover:shadow-lg active:scale-95">
                            Read Article â†’
                        </button>
                    </div>
                </div>
            </div>

            <!-- Loading State -->
            <ng-template #loader>
                <div class="grid grid-cols-2 lg:grid-cols-3 gap-8 pb-16">
                    <div *ngFor="let i of [1,2,3]" class="space-y-6">
                        <div class="aspect-[16/10] bg-gray-100 rounded-[3rem] animate-pulse"></div>
                        <div class="space-y-3">
                            <div class="h-3 bg-gray-50 rounded w-1/4 animate-pulse"></div>
                            <div class="h-8 bg-gray-100 rounded w-3/4 animate-pulse"></div>
                            <div class="h-12 bg-gray-50 rounded w-full animate-pulse"></div>
                        </div>
                    </div>
                </div>
            </ng-template>

            <!-- Empty State -->
            <div *ngIf="!loading && filteredArticles.length === 0"
                class="py-24 text-center space-y-6 animate-in zoom-in duration-500">
                <span class="text-6xl opacity-10">ðŸ¤”</span>
                <div class="space-y-2">
                    <h3 class="text-3xl font-black text-gray-950 tracking-tighter">No intelligence found</h3>
                    <p class="text-gray-500 text-lg font-bold italic serif-font">Try refining your query.</p>
                </div>
                <button (click)="filterByCategory('All')"
                    class="px-8 py-4 bg-emerald-950 text-white rounded-xl font-black text-[9px] uppercase tracking-[0.4em] shadow-lg active:scale-95 transition-all">Reset</button>
            </div>
        </div>
    </section>

    <!-- Newsletter CTA -->
    <section class="w-full pt-8 pb-8 bg-white relative">
        <div class="max-w-[90%] xl:max-w-7xl mx-auto px-6">
            <div
                class="bg-gray-950 p-8 md:p-12 rounded-[2rem] text-center text-white relative overflow-hidden shadow-2xl border border-white/5">
                <div
                    class="absolute top-0 right-0 w-[30rem] h-[30rem] bg-emerald-500/[0.15] rounded-full blur-[150px] -z-10 translate-x-1/2 -translate-y-1/2">
                </div>
                <div
                    class="absolute bottom-0 left-0 w-[25rem] h-[25rem] bg-blue-500/[0.08] rounded-full blur-[120px] -z-10 -translate-x-1/2 translate-y-1/2">
                </div>

                <div class="relative z-10 grid lg:grid-cols-2 gap-10 md:gap-16 items-center">
                    <div class="text-left space-y-5">
                        <span
                            class="text-emerald-500 font-black text-[10px] md:text-[11px] uppercase tracking-[0.5em] block">Journal
                            Subscription</span>
                        <h2 class="text-3xl md:text-5xl font-black tracking-tighter leading-tight md:leading-[0.85]">
                            Stay Mindful. <br class="hidden md:block">
                            <span class="text-emerald-400 italic serif-font font-light">Stay Evolved.</span>
                        </h2>
                        <p class="text-gray-400 text-base md:text-lg font-bold max-w-xl leading-snug italic serif-font">
                            Join 25,000+ practitioners receiving Ayurvedic protocols and research insights every Sunday
                            morning.</p>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4 w-full">
                        <div class="flex-1 relative">
                            <input type="email" placeholder="Enter your email address..."
                                class="w-full px-6 py-4 md:py-5 bg-white/5 backdrop-blur-xl rounded-2xl md:rounded-[2.5rem] border border-white/10 text-white font-bold text-base md:text-lg placeholder:text-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/30 transition-all">
                        </div>
                        <button
                            class="px-8 py-4 md:py-5 bg-emerald-600 text-white font-black rounded-2xl md:rounded-[2.5rem] hover:bg-emerald-500 transition-all duration-300 shadow-xl text-[10px] md:text-[11px] uppercase tracking-[0.3em] hover:scale-105 active:scale-95 whitespace-nowrap">
                            Join Transmission
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>