<div (click)="onClick()"
    class="bg-white rounded-2xl md:rounded-[2.5rem] p-3 md:p-6 border border-emerald-100/80 hover:border-emerald-300 transition-all group cursor-pointer hover:-translate-y-1.5 shadow-md shadow-emerald-900/[0.03] hover:shadow-xl hover:shadow-emerald-900/10 flex flex-col h-fit overflow-hidden">

    <div
        class="w-full aspect-[16/10] md:aspect-video rounded-xl md:rounded-[1.8rem] overflow-hidden mb-3 md:mb-6 relative flex-shrink-0">
        <img [src]="herb.image_url" [alt]="herb.name"
            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
        <div
            class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity">
        </div>

        <div *ngIf="herb.tridosha"
            class="absolute top-2 right-2 md:top-4 md:right-4 px-2 py-0.5 md:px-3 md:py-1 bg-purple-500 text-white text-[6px] md:text-[9px] font-black rounded-full uppercase tracking-tighter shadow-lg z-10">
            âœ¨ Tridoshic
        </div>
    </div>

    <div class="space-y-1.5 md:space-y-4 flex flex-col grow min-w-0">
        <div class="min-w-0">
            <span
                class="text-[7px] md:text-[10px] font-black text-emerald-600 uppercase tracking-widest block mb-0.5 md:mb-1 truncate opacity-70">
                {{ herb.scientific_name }}
            </span>
            <h4
                class="text-xs md:text-xl font-black text-gray-900 leading-tight group-hover:text-emerald-800 transition-colors truncate md:whitespace-normal md:line-clamp-2">
                {{ herb.name }}
            </h4>
        </div>

        <p class="text-[9px] md:text-sm text-gray-500 leading-relaxed line-clamp-2 min-w-0 font-medium">
            {{ herb.preview || herb.description }}
        </p>

        <div *ngIf="herb.pacify && herb.pacify.length > 0"
            class="flex items-center gap-1 md:gap-2 pt-1.5 md:pt-4 border-t border-emerald-50 mt-1 md:mt-2">
            <span *ngFor="let d of herb.pacify.slice(0, 2)" [class]="getDoshaClass(d)"
                class="px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg text-[6px] md:text-[9px] font-black uppercase tracking-widest whitespace-nowrap">
                {{ d }}
            </span>
        </div>
    </div>
</div>