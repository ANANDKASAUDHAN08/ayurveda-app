<!-- Modern Full-Width Modal -->
<div class="fixed inset-0 z-[101] flex items-center justify-center p-0 md:p-4 lg:p-4 overflow-hidden">
    <!-- Backdrop -->
    <div class="absolute inset-0 bg-slate-900/80 backdrop-blur-md modal-backdrop" (click)="onClose()"></div>

    <!-- Main Modal Container -->
    <div
        class="relative w-full h-full md:max-w-7xl md:h-[90vh] bg-white md:rounded-[2.5rem] shadow-2xl flex flex-col md:flex-row overflow-hidden modal-content-desktop hidden md:flex">

        <!-- Close Button (Desktop) -->
        <button (click)="onClose()"
            class="absolute top-6 right-6 z-50 w-12 h-12 bg-slate-100 hover:bg-slate-200 shadow-lg rounded-2xl flex items-center justify-center text-slate-600 transition-all group">
            <i class="fas fa-times text-xl group-hover:rotate-90 transition-transform duration-300"></i>
        </button>

        <!-- LEFT PANEL: Doctor Profile & Content (65%) -->
        <div class="w-[65%] h-full overflow-y-auto custom-scrollbar bg-white">
            <!-- Hero Header -->
            <div class="relative h-60 bg-gradient-to-br from-emerald-600 via-teal-700 to-emerald-900">
                <div class="absolute inset-0 bg-pattern opacity-20"></div>

                <!-- Doctor Profile -->
                <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/60 to-transparent">
                    <div class="flex items-end gap-8">
                        <!-- Profile Image -->
                        <div class="relative shrink-0">
                            <div
                                class="w-40 h-40 rounded-3xl border-4 border-white shadow-2xl overflow-hidden bg-slate-50 flex items-center justify-center text-emerald-600 text-5xl font-black">
                                <img *ngIf="doctor.image" [src]="doctor.image" [alt]="doctor.name"
                                    class="w-full h-full object-cover">
                                <span *ngIf="!doctor.image">{{ doctor.name.charAt(0) }}</span>
                            </div>
                            <!-- Verified Badge -->
                            <div *ngIf="doctor.isVerified"
                                class="absolute -bottom-3 -right-3 w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center border-4 border-white shadow-lg shadow-emerald-500/30">
                                <i class="fas fa-check text-white text-lg"></i>
                            </div>
                        </div>

                        <!-- Info -->
                        <div class="flex-1 pb-2">
                            <div class="flex flex-wrap items-center gap-2 mb-2">
                                <span
                                    class="px-3 py-1 glass-pill rounded-full text-white text-[10px] font-black uppercase tracking-widest">
                                    {{ doctor.medicine_type || 'AYURVEDA' }}
                                </span>
                                <span *ngIf="isOnline"
                                    class="px-3 py-1 bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest rounded-full flex items-center gap-1.5">
                                    <span class="w-1.5 h-1.5 bg-white rounded-full animate-pulse"></span>
                                    ONLINE NOW
                                </span>
                                <span *ngIf="doctor.gender"
                                    class="px-3 py-1 bg-slate-100/20 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-widest rounded-full">
                                    {{ doctor.gender }}
                                </span>
                            </div>
                            <h1 class="text-4xl font-black text-white mb-2 tracking-tight">
                                {{ doctor.name }}
                            </h1>
                            <p class="text-emerald-50 text-xl font-medium mb-4">
                                {{ doctor.specialization || 'Consultant Specialist' }}
                            </p>

                            <!-- Quick Stats Row -->
                            <div class="flex gap-6">
                                <div class="flex items-center gap-2.5 text-white/90">
                                    <div class="w-8 h-8 rounded-lg glass-pill flex items-center justify-center">
                                        <i class="fas fa-star text-amber-300 text-xs"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-xs font-black">{{ (doctor.rating && doctor.rating > 0) ?
                                            doctor.rating : 'New' }}</span>
                                        <span class="text-[10px] text-white/60 font-bold uppercase tracking-tighter">{{
                                            (doctor.rating && doctor.rating > 0) ? (doctor.reviews_count || 0) + '
                                            Reviews' : 'No ratings' }}</span>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2.5 text-white/90">
                                    <div class="w-8 h-8 rounded-lg glass-pill flex items-center justify-center">
                                        <i class="fas fa-user-md text-emerald-200 text-xs"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-xs font-black">{{ doctor.experience }}+ Yrs</span>
                                        <span
                                            class="text-[10px] text-white/60 font-bold uppercase tracking-tighter">Experience</span>
                                    </div>
                                </div>
                                <div *ngIf="doctor.total_consultations" class="flex items-center gap-2.5 text-white/90">
                                    <div class="w-8 h-8 rounded-lg glass-pill flex items-center justify-center">
                                        <i class="fas fa-users text-blue-200 text-xs"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-xs font-black">{{ doctor.total_consultations }}+</span>
                                        <span
                                            class="text-[10px] text-white/60 font-bold uppercase tracking-tighter">Patients</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content Tabs Area -->
            <div class="p-10 space-y-12">
                <!-- About Section -->
                <section>
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-1.5 h-8 bg-emerald-500 rounded-full"></div>
                        <h2 class="text-2xl font-black text-slate-800 tracking-tight">Professional Bio</h2>
                    </div>
                    <p class="text-lg text-slate-600 leading-relaxed font-medium">
                        {{ doctor.about || 'Dr. ' + doctor.name + ' is a dedicated healthcare professional specializing
                        in ' + (doctor.specialization || 'Ayurvedic treatments') + '. With over ' + doctor.experience +
                        ' years of clinical experience, they provide comprehensive and personalized care to patients
                        seeking holistic wellness solutions.' }}
                    </p>
                </section>

                <div class="grid grid-cols-2 gap-10">
                    <!-- Qualifications -->
                    <section>
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-1.5 h-8 bg-blue-500 rounded-full"></div>
                            <h2 class="text-xl font-black text-slate-800 tracking-tight">Background</h2>
                        </div>
                        <div class="space-y-4">
                            <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100 flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600 shrink-0">
                                    <i class="fas fa-graduation-cap"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-black text-slate-800">{{ doctor.qualifications || 'Medical
                                        Degree - Ayurveda' }}</p>
                                    <p class="text-xs text-slate-500 font-bold uppercase tracking-wider mt-1">
                                        Qualification</p>
                                </div>
                            </div>
                            <div *ngIf="doctor.awards"
                                class="p-5 bg-slate-50 rounded-2xl border border-slate-100 flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center text-amber-600 shrink-0">
                                    <i class="fas fa-medal"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-black text-slate-800">{{ doctor.awards }}</p>
                                    <p class="text-xs text-slate-500 font-bold uppercase tracking-wider mt-1">
                                        Recognition</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Practice Details -->
                    <section>
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-1.5 h-8 bg-purple-500 rounded-full"></div>
                            <h2 class="text-xl font-black text-slate-800 tracking-tight">Location & Clinic</h2>
                        </div>
                        <div class="space-y-4">
                            <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100 flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600 shrink-0">
                                    <i class="fas fa-hospital"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-black text-slate-800">{{ doctor.clinic_name || 'Global
                                        Wellness Center' }}</p>
                                    <p class="text-xs text-slate-500 font-bold uppercase tracking-wider mt-1">{{
                                        doctor.location || 'Online Only' }}</p>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <span *ngFor="let lang of getLanguages()"
                                    class="px-3 py-1 bg-slate-100 rounded-lg text-[10px] font-black text-slate-500 uppercase">
                                    {{ lang }}
                                </span>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Patient Reviews Section -->
                <section>
                    <div class="flex items-center justify-between mb-8">
                        <div class="flex items-center gap-3">
                            <div class="w-1.5 h-8 bg-amber-500 rounded-full"></div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">What Patients Say</h2>
                        </div>
                        <div *ngIf="doctor.rating" class="flex items-center gap-2 px-4 py-2 bg-amber-50 rounded-xl">
                            <i class="fas fa-star text-amber-500"></i>
                            <span class="text-lg font-black text-amber-700">{{ doctor.rating }}</span>
                            <span class="text-sm text-amber-600 font-black">/ 5</span>
                        </div>
                    </div>

                    <div *ngIf="loadingReviews" class="flex flex-col items-center py-12">
                        <i class="fas fa-spinner fa-spin text-3xl text-emerald-500 mb-4"></i>
                        <p class="text-slate-500 font-bold">Fetching latest reviews...</p>
                    </div>

                    <div *ngIf="!loadingReviews && reviews.length > 0" class="space-y-6">
                        <div *ngFor="let review of reviews"
                            class="p-6 bg-slate-50 rounded-[2rem] border border-slate-100 hover:bg-white hover:shadow-xl hover:scale-[1.01] transition-all duration-300">
                            <div class="flex justify-between items-start mb-4">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-black uppercase">
                                        {{ review.user_name?.charAt(0) || 'U' }}
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-black text-slate-800">{{ review.user_name }}</h4>
                                        <p class="text-[10px] text-slate-400 font-extrabold uppercase mt-0.5">{{
                                            formatDate(review.created_at) }}</p>
                                    </div>
                                </div>
                                <div class="flex text-amber-400 text-xs">
                                    <i *ngFor="let star of [1,2,3,4,5]"
                                        [class]="star <= review.rating ? 'fas fa-star' : 'far fa-star'"
                                        class="mr-0.5"></i>
                                </div>
                            </div>
                            <p class="text-slate-600 font-medium italic leading-relaxed">
                                "{{ review.review }}"
                            </p>
                        </div>
                    </div>

                    <div *ngIf="!loadingReviews && reviews.length === 0"
                        class="text-center py-12 bg-slate-50 rounded-[2rem] border-2 border-dashed border-slate-200">
                        <i class="fas fa-comment-slash text-4xl text-slate-300 mb-4"></i>
                        <h4 class="text-lg font-black text-slate-400">No Reviews Yet</h4>
                        <p class="text-sm text-slate-400 font-bold">Be the first to consult and share your experience!
                        </p>
                    </div>
                </section>
            </div>
        </div>

        <!-- RIGHT PANEL: Booking & Slots (35%) -->
        <div class="w-[35%] h-full bg-slate-50/50 backdrop-blur-3xl overflow-y-auto border-l border-slate-100 p-10">
            <!-- Fee Display -->
            <div class="mb-10 text-center">
                <p class="text-xs font-black text-slate-400 uppercase tracking-widest mb-2">Consultation Fee</p>
                <div class="flex items-center justify-center gap-2">
                    <span class="text-4xl font-black text-emerald-600">₹{{ doctor.consultationFee }}</span>
                    <span class="px-2 py-1 bg-emerald-50 text-emerald-600 text-[10px] font-black rounded-lg">15-30
                        MIN</span>
                </div>
            </div>

            <!-- Booking Section -->
            <div class="space-y-6">
                <!-- Consultation Type Selector -->
                <div>
                    <h3 class="text-lg font-black text-slate-800 tracking-tight mb-4">Select Mode</h3>
                    <div class="grid grid-cols-1 gap-3">
                        <label
                            class="relative flex items-center p-5 bg-white border-2 border-emerald-500 rounded-2xl cursor-pointer shadow-sm">
                            <input type="radio" name="consultation_desktop" checked class="hidden">
                            <div class="flex-1">
                                <p class="text-sm font-black text-slate-800">Video Consultation</p>
                                <p class="text-xs text-emerald-600 font-bold uppercase tracking-tighter mt-1">Global
                                    Accessibility</p>
                            </div>
                            <div
                                class="w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center text-emerald-600">
                                <i class="fas fa-video"></i>
                            </div>
                        </label>
                        <label *ngIf="doctor.mode !== 'online'"
                            class="relative flex items-center p-5 bg-white border border-slate-200 rounded-2xl cursor-pointer hover:border-blue-500 transition-colors">
                            <input type="radio" name="consultation_desktop" class="hidden">
                            <div class="flex-1">
                                <p class="text-sm font-black text-slate-800">In-Clinic Visit</p>
                                <p class="text-xs text-slate-500 font-bold uppercase tracking-tighter mt-1">{{
                                    doctor.location || 'Visit Clinic' }}</p>
                            </div>
                            <div
                                class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600">
                                <i class="fas fa-hospital"></i>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Instant Consultation Banner -->
                <div *ngIf="isOnline"
                    class="p-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-[2rem] text-white shadow-xl">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="w-10 h-10 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h4 class="font-black tracking-tight">Need urgent help?</h4>
                    </div>
                    <p class="text-xs text-emerald-50 font-bold mb-4">Start 1-on-1 consultation immediately without
                        waiting.</p>
                    <button (click)="onInstantConsult()"
                        class="w-full py-3 bg-white text-emerald-600 rounded-xl font-black text-sm hover:scale-105 active:scale-95 transition-all">
                        START INSTANT CALL
                    </button>
                </div>

                <!-- Main CTA -->
                <button (click)="onBook()"
                    class="w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black text-lg shadow-xl hover:shadow-2xl hover:-translate-y-1 active:scale-95 transition-all duration-300">
                    BOOK APPOINTMENT
                </button>

                <div class="flex items-center justify-center gap-6 pt-4">
                    <div class="flex flex-col items-center gap-1.5 grayscale opacity-50">
                        <i class="fas fa-shield-alt text-lg"></i>
                        <span class="text-[9px] font-black uppercase tracking-widest text-slate-600">Secure</span>
                    </div>
                    <div class="flex flex-col items-center gap-1.5 grayscale opacity-50">
                        <i class="fas fa-undo text-lg"></i>
                        <span class="text-[9px] font-black uppercase tracking-widest text-slate-600">Refund</span>
                    </div>
                    <div class="flex flex-col items-center gap-1.5 grayscale opacity-50">
                        <i class="fas fa-user-lock text-lg"></i>
                        <span class="text-[9px] font-black uppercase tracking-widest text-slate-600">Private</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MOBILE: Bottom Sheet Premium Layout -->
    <div
        class="md:hidden fixed inset-x-0 bottom-0 w-full max-h-[92vh] bg-white rounded-t-[3rem] shadow-2xl flex flex-col modal-content-mobile overflow-hidden">
        <!-- Header -->
        <div class="relative shrink-0 p-6 pb-2">
            <!-- Close Button (Mobile) -->
            <button (click)="onClose()"
                class="absolute top-4 right-6 z-10 w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center shadow-sm">
                <i class="fas fa-times text-slate-400"></i>
            </button>

            <!-- Drag Handle -->
            <div class="flex justify-center mb-6">
                <div class="w-12 h-1.5 bg-slate-100 rounded-full"></div>
            </div>

            <div class="flex items-start gap-5">
                <div class="relative">
                    <div
                        class="w-24 h-24 rounded-[2rem] overflow-hidden border-2 border-slate-50 shadow-xl bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center text-emerald-600 text-3xl font-black">
                        <img *ngIf="doctor.image" [src]="doctor.image" [alt]="doctor.name"
                            class="w-full h-full object-cover">
                        <span *ngIf="!doctor.image">{{ doctor.name.charAt(0) }}</span>
                    </div>
                    <div *ngIf="doctor.isVerified"
                        class="absolute -bottom-1 -right-1 w-9 h-9 bg-emerald-500 rounded-full flex items-center justify-center border-4 border-white text-white text-xs shadow-lg shadow-emerald-500/20">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="flex-1 min-w-0 pr-10">
                    <div class="flex items-center gap-2 mb-1">
                        <span
                            class="px-2 py-0.5 bg-emerald-100 text-emerald-600 text-[8px] font-black uppercase tracking-widest rounded-md">
                            {{ doctor.medicine_type || 'Modern' }}
                        </span>
                        <span *ngIf="isOnline"
                            class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"></span>
                    </div>
                    <h2 class="text-2xl font-black text-slate-800 leading-tight mb-1">{{ doctor.name }}</h2>
                    <p class="text-xs font-extrabold text-slate-400 uppercase tracking-widest truncate">{{
                        doctor.specialization }}</p>
                    <div class="flex items-center gap-3 mt-3">
                        <div class="flex items-center gap-1.5 py-1 px-2.5 bg-amber-50 rounded-lg">
                            <i class="fas fa-star text-amber-500 text-[10px]"></i>
                            <span class="text-xs font-black text-amber-700">{{ (doctor.rating && doctor.rating > 0) ?
                                doctor.rating : 'New' }}</span>
                        </div>
                        <div class="flex items-center gap-1.5 py-1 px-2.5 bg-blue-50 rounded-lg">
                            <i class="fas fa-clock text-blue-500 text-[10px]"></i>
                            <span class="text-[10px] font-black text-blue-700">{{ doctor.experience }}+yrs</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scrollable Content -->
        <div class="flex-1 overflow-y-auto px-6 py-6 pb-32 space-y-8">
            <!-- About -->
            <section>
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-1 h-6 bg-emerald-500 rounded-full"></div>
                    <h2 class="text-base font-black text-slate-800 tracking-tight">Professional Bio</h2>
                </div>
                <p class="text-sm text-slate-600 font-medium leading-relaxed line-clamp-about">
                    {{ doctor.about || 'Dr. ' + doctor.name + ' is a highly qualified ' + (doctor.specialization ||
                    'specialist') + ' committed to patient wellbeing.' }}
                </p>
            </section>

            <!-- Stats Grid (Mobile) -->
            <div class="grid grid-cols-2 gap-3">
                <div class="p-4 bg-slate-50 rounded-2xl border border-slate-100">
                    <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1">Fee</p>
                    <p class="text-lg font-black text-slate-800">₹{{ doctor.consultationFee }}</p>
                </div>
                <div class="p-4 bg-slate-50 rounded-2xl border border-slate-100">
                    <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1">Languages</p>
                    <p class="text-sm font-black text-slate-800 truncate">{{ getLanguages().join(', ') }}</p>
                </div>
            </div>

            <!-- Detailed Sections (Synced with Desktop) -->
            <div class="space-y-8">
                <!-- Background (Mobile) -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-1 h-6 bg-blue-500 rounded-full"></div>
                        <h3 class="text-base font-black text-slate-800 tracking-tight">Background</h3>
                    </div>
                    <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100 flex items-start gap-4">
                        <div
                            class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600 shrink-0">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div>
                            <p class="text-sm font-black text-slate-800">{{ doctor.qualifications || 'Medical Degree' }}
                            </p>
                            <p class="text-[10px] text-slate-500 font-bold uppercase tracking-wider mt-1">Qualification
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Location (Mobile) -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-1 h-6 bg-purple-500 rounded-full"></div>
                        <h3 class="text-base font-black text-slate-800 tracking-tight">Location & Clinic</h3>
                    </div>
                    <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100 flex items-start gap-4">
                        <div
                            class="w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600 shrink-0">
                            <i class="fas fa-hospital"></i>
                        </div>
                        <div>
                            <p class="text-sm font-black text-slate-800">{{ doctor.clinic_name || 'Global Wellness
                                Center' }}</p>
                            <p class="text-[10px] text-slate-500 font-bold uppercase tracking-wider mt-1">{{
                                doctor.location || 'Online Only' }}</p>
                        </div>
                    </div>
                </section>

                <!-- What Patients Say (Mobile) -->
                <section>
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-1 h-6 bg-amber-500 rounded-full"></div>
                            <h3 class="text-base font-black text-slate-800 tracking-tight">What Patients Say</h3>
                        </div>
                        <div *ngIf="doctor.rating" class="flex items-center gap-1.5 px-3 py-1 bg-amber-50 rounded-lg">
                            <i class="fas fa-star text-amber-500 text-[10px]"></i>
                            <span class="text-sm font-black text-amber-700">{{ doctor.rating }}</span>
                            <span class="text-[10px] text-amber-600 font-black">/ 5</span>
                        </div>
                    </div>

                    <div *ngIf="loadingReviews" class="flex flex-col items-center py-6">
                        <i class="fas fa-spinner fa-spin text-2xl text-emerald-500 mb-2"></i>
                        <p class="text-xs text-slate-500 font-bold">Fetching reviews...</p>
                    </div>

                    <div *ngIf="!loadingReviews && reviews.length > 0" class="space-y-4">
                        <div *ngFor="let review of reviews" class="p-5 bg-slate-50 rounded-2xl border border-slate-100">
                            <div class="flex justify-between items-start mb-3">
                                <div class="flex items-center gap-2">
                                    <div
                                        class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 text-xs font-black uppercase">
                                        {{ review.user_name?.charAt(0) || 'U' }}
                                    </div>
                                    <h4 class="text-xs font-black text-slate-800">{{ review.user_name }}</h4>
                                </div>
                                <div class="flex text-amber-400 text-[10px]">
                                    <i *ngFor="let star of [1,2,3,4,5]"
                                        [class]="star <= review.rating ? 'fas fa-star' : 'far fa-star'"
                                        class="mr-0.5"></i>
                                </div>
                            </div>
                            <p class="text-xs text-slate-600 font-medium italic leading-relaxed">"{{ review.review }}"
                            </p>
                        </div>
                    </div>

                    <div *ngIf="!loadingReviews && reviews.length === 0"
                        class="text-center py-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200">
                        <i class="fas fa-comment-slash text-3xl text-slate-300 mb-3"></i>
                        <p class="text-xs font-black text-slate-400">No Reviews Yet</p>
                    </div>
                </section>
            </div>
        </div>

        <!-- Sticky Bottom Action -->
        <div
            class="absolute bottom-0 left-0 right-0 p-6 bg-white border-t border-slate-100 shadow-[0_-10px_40px_rgba(0,0,0,0.05)]">
            <button (click)="onBook()"
                class="w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl font-black shadow-lg shadow-emerald-200 transition-all flex items-center justify-center gap-3">
                <i class="fas fa-calendar-check"></i>
                BOOK APPOINTMENT
            </button>
        </div>
    </div>
</div>