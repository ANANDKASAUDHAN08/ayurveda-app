<div class="flex flex-col min-h-screen bg-gray-50">
  <!-- Offline Indicator -->
  <app-offline-indicator></app-offline-indicator>

  <!-- Top Navbar -->
  <app-top-navbar [onMenuToggle]="toggleHamburgerMenu"></app-top-navbar>

  <!-- Hamburger Menu -->
  <app-hamburger-menu [isOpen]="hamburgerMenuOpen" (close)="closeHamburgerMenu()"></app-hamburger-menu>

  <!-- Main Content -->
  <main class="flex-1">
    <router-outlet></router-outlet>
  </main>

  <!-- Footer (hide on admin routes) -->
  <app-footer *ngIf="!isAdminRoute"></app-footer>

  <!-- Bottom Navigation (Mobile only) -->
  <app-bottom-navigation (navItemClicked)="closeHamburgerMenu()"></app-bottom-navigation>

  <!-- Snackbar -->
  <app-snackbar></app-snackbar>

  <!-- FAB Menu (Mobile only) -->
  <!-- <app-fab-menu (actionClicked)="handleFabAction($event)"></app-fab-menu> -->

  <!-- Scroll to Top Button -->
  <app-scroll-to-top></app-scroll-to-top>

  <!-- Location Bottom Sheet -->
  <app-location-bottom-sheet [isOpen]="isLocationSheetOpen" (closeRequested)="locationService.toggleBottomSheet(false)">
  </app-location-bottom-sheet>

  <!-- Global Map Modal -->
  <app-location-map-modal *ngIf="mapsLoaded$ | async" [isOpen]="showMapModal"
    [initialLocation]="locationService.getCurrentLocation()" (modalClosed)="locationService.toggleMap(false)"
    (locationSelected)="onLocationFromMap($event)">
  </app-location-map-modal>

  <!-- AI Chatbot (Global) -->
  <app-chatbot></app-chatbot>

  <!-- PWA Update Notification -->
  <app-update-notification *ngIf="showUpdateNotification" (update)="onUpdateApp()" (dismiss)="onDismissUpdate()">
  </app-update-notification>
</div>