<!-- Backdrop -->
<div *ngIf="isOpen" @backdrop (click)="close()" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[997]">
</div>

<!-- Bottom Sheet -->
<div *ngIf="isOpen" @sheet (touchstart)="onDragStart($event)" (touchmove)="onDragMove($event)"
    (touchend)="onDragEnd($event)"
    [class]="'fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl z-[998] overflow-hidden ' + getHeightClass()">

    <!-- Drag Handle -->
    <div class="sticky top-0 bg-white pt-3 pb-2 px-4 border-b border-gray-100">
        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-4"></div>

        <!-- Header -->
        <div class="flex items-center justify-between" *ngIf="title">
            <h3 class="text-lg font-bold text-gray-900">{{ title }}</h3>
            <button (click)="close()"
                class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-500 transition-colors">
                <i class="fas fa-times text-lg"></i>
            </button>
        </div>
    </div>

    <!-- Content (scrollable) -->
    <div class="overflow-y-auto p-6" [style.max-height]="height === 'auto' ? 'calc(80vh - 80px)' : '100%'">
        <ng-content></ng-content>
    </div>
</div>